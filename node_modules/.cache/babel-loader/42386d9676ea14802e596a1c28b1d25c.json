{"ast":null,"code":"import _toConsumableArray from\"/home/czernous/development/personal/study_projects/rick-and-morty-party/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/czernous/development/personal/study_projects/rick-and-morty-party/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useEffect,useState}from\"react\";export var useDebounce=function useDebounce(value){var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:300;var _useState=useState(value),_useState2=_slicedToArray(_useState,2),debouncedValue=_useState2[0],setDebouncedValue=_useState2[1];useEffect(function(){var timer=setTimeout(function(){setDebouncedValue(value);},delay);return function(){clearTimeout(timer);};},[value,delay]);return debouncedValue;};export var useSearchForm=function useSearchForm(){var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var onSearchChange=useCallback(function(e){return setSearchValue(e.target.value);},[]);return{searchValue:searchValue,onSearchChange:onSearchChange};};export var useSkip=function useSkip(query){var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),skip=_useState6[0],setSkip=_useState6[1];useEffect(function(){if(query.length<3){setSkip(true);}else{setSkip(false);}},[query]);return skip;};export var useChartacters=function useChartacters(data,queryError){var _useState7=useState({characters:[],status:\"IDLE\",queryError:\"\"}),_useState8=_slicedToArray(_useState7,2),charState=_useState8[0],setCharState=_useState8[1];useEffect(function(){if(!data){setCharState({characters:[],status:\"IDLE\",queryError:\"\"});if(queryError!==undefined)return setCharState({characters:[],status:\"ERROR\",queryError:queryError.message});return;}var charactersArray=data.characters.results;setCharState({characters:charactersArray,status:\"SUCCES\",queryError:\"\"});},[data,queryError]);return charState;};export var useChartactersFilter=function useChartactersFilter(characters){var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),deletedItems=_useState10[0],setDeletedItems=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),partyRick=_useState12[0],setPartyRick=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),partyMorty=_useState14[0],setPartyMorty=_useState14[1];var getID=function getID(e){if(!e.target)return null;return e.currentTarget.getAttribute(\"data-id\");};var onDelete=function onDelete(e){var id=getID(e);if(!id)return;var deletedId=parseInt(id,10);if(!deletedItems.includes(deletedId))setDeletedItems([].concat(_toConsumableArray(deletedItems),[deletedId]));};var onSelect=function onSelect(e){var id=getID(e);if(!id)return;var selectedId=parseInt(id,10);var selectedCharacter=characters.find(function(c){return parseInt(c.id,10)===selectedId;});if(selectedCharacter){/morty/i.test(selectedCharacter.name)?setPartyMorty(selectedCharacter):setPartyMorty(partyMorty);/rick/i.test(selectedCharacter.name)?setPartyRick(selectedCharacter):setPartyRick(partyRick);}};var getExcludedIds=function getExcludedIds(){var selectedRick=partyRick?parseInt(partyRick.id,10):null;var selectedMorty=partyMorty?parseInt(partyMorty.id,10):null;return[].concat(_toConsumableArray(deletedItems),[selectedMorty,selectedRick]).filter(function(item){return item!==null;});};var filteredCharacters=characters.filter(function(c){return!getExcludedIds().includes(parseInt(c.id,10));});var displayedCharacters=getExcludedIds().length?filteredCharacters.slice(0,6):characters.slice(0,6);return{onDelete:onDelete,onSelect:onSelect,partyMorty:partyMorty,partyRick:partyRick,displayedCharacters:displayedCharacters};};","map":{"version":3,"sources":["/home/czernous/development/personal/study_projects/rick-and-morty-party/src/hooks.tsx"],"names":["useCallback","useEffect","useState","useDebounce","value","delay","debouncedValue","setDebouncedValue","timer","setTimeout","clearTimeout","useSearchForm","searchValue","setSearchValue","onSearchChange","e","target","useSkip","query","skip","setSkip","length","useChartacters","data","queryError","characters","status","charState","setCharState","undefined","message","charactersArray","results","useChartactersFilter","deletedItems","setDeletedItems","partyRick","setPartyRick","partyMorty","setPartyMorty","getID","currentTarget","getAttribute","onDelete","id","deletedId","parseInt","includes","onSelect","selectedId","selectedCharacter","find","c","test","name","getExcludedIds","selectedRick","selectedMorty","filter","item","filteredCharacters","displayedCharacters","slice"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { ICharacter } from \"./interfaces/ICharacter\";\nimport { ICharactersQuery } from \"./interfaces/ICharactersQuery\";\nimport { IQueryResult } from \"./interfaces/IQueryResult\";\nexport const useDebounce = (value: string, delay: number = 300) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\nexport const useSearchForm = () => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const onSearchChange = useCallback((e) => setSearchValue(e.target.value), []);\n\n  return {\n    searchValue,\n    onSearchChange,\n  };\n};\n\nexport const useSkip = (query: string) => {\n  const [skip, setSkip] = useState(false);\n\n  useEffect(() => {\n    if (query.length < 3) {\n      setSkip(true);\n    } else {\n      setSkip(false);\n    }\n  }, [query]);\n\n  return skip;\n};\n\nexport const useChartacters = (\n  data: IQueryResult,\n  queryError: any\n): ICharactersQuery => {\n  const [charState, setCharState] = useState<ICharactersQuery>({\n    characters: [],\n    status: \"IDLE\",\n    queryError: \"\",\n  });\n\n  useEffect(() => {\n    if (!data) {\n      setCharState({ characters: [], status: \"IDLE\", queryError: \"\" });\n      if (queryError !== undefined)\n        return setCharState({\n          characters: [],\n          status: \"ERROR\",\n          queryError: queryError.message,\n        });\n      return;\n    }\n\n    const charactersArray: ICharacter[] = data.characters.results;\n\n    setCharState({\n      characters: charactersArray,\n      status: \"SUCCES\",\n      queryError: \"\",\n    });\n  }, [data, queryError]);\n\n  return charState;\n};\n\nexport const useChartactersFilter = (characters: ICharacter[]) => {\n  const [deletedItems, setDeletedItems] = useState<number[]>([]);\n  const [partyRick, setPartyRick] = useState<ICharacter>();\n  const [partyMorty, setPartyMorty] = useState<ICharacter>();\n\n  const getID = (e: React.MouseEvent) => {\n    if (!e.target) return null;\n    return e.currentTarget.getAttribute(\"data-id\");\n  };\n\n  const onDelete = (e: React.MouseEvent): void => {\n    const id = getID(e);\n\n    if (!id) return;\n\n    const deletedId = parseInt(id, 10);\n    if (!deletedItems.includes(deletedId))\n      setDeletedItems([...deletedItems, deletedId]);\n  };\n\n  const onSelect = (e: React.MouseEvent) => {\n    const id = getID(e);\n\n    if (!id) return;\n    const selectedId = parseInt(id, 10);\n    const selectedCharacter = characters.find(\n      (c: ICharacter) => parseInt(c.id, 10) === selectedId\n    );\n\n    if (selectedCharacter) {\n      /morty/i.test(selectedCharacter.name)\n        ? setPartyMorty(selectedCharacter)\n        : setPartyMorty(partyMorty);\n      /rick/i.test(selectedCharacter.name)\n        ? setPartyRick(selectedCharacter)\n        : setPartyRick(partyRick);\n    }\n  };\n\n  const getExcludedIds = () => {\n    const selectedRick = partyRick ? parseInt(partyRick.id, 10) : null;\n    const selectedMorty = partyMorty ? parseInt(partyMorty.id, 10) : null;\n    return [...deletedItems, selectedMorty, selectedRick].filter(\n      (item) => item !== null\n    );\n  };\n\n  const filteredCharacters = characters.filter(\n    (c: ICharacter) => !getExcludedIds().includes(parseInt(c.id, 10))\n  );\n\n  const displayedCharacters = getExcludedIds().length\n    ? filteredCharacters.slice(0, 6)\n    : characters.slice(0, 6);\n\n  return {\n    onDelete,\n    onSelect,\n    partyMorty,\n    partyRick,\n    displayedCharacters,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}